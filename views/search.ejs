<div class="searchPageContainer">
    <%- include("./partials/navbar.ejs") %>
    <div class="searchResultsContainer">
        <%if (searchQuery === null){%>
            <p class="resultsText">No search results</p>
        <%}else{%>
            <p class="resultsText">Showing results for &ldquo;<%=searchQuery%>&rdquo;</p>
            <%if (videos.length < 1){%>
                <p>No search results</p>
            <%}else{%>
                <div id="searchListContainer" class="searchListContainer">
                    <%for (let i = 0; i < videos.length; i++){%>
                        <a id="result<%=i+1%>" href="/lib/<%=videos[i].topicUrl%>/<%=videos[i].url.substring(20)%>">
                            <div class="searchResultVideo">
                                <div class="videoThumbnail" style="background-image:url('<%=videos[i].thumbnail%>')"></div>
                                <div class="videoInfo">
                                    <%if (videos[i].title.length > 80){%>
                                        <p><%=videos[i].title.substring(0,80)%>...</p>
                                    <%}else{%>
                                        <p><%=videos[i].title%></p>
                                    <%}%>
                                    <div class="userAvatarUsername">
                                        <div class="videoAvatar" style="background-image: url('<%=videos[i].pic_url%>');"></div>
                                        <p class="username"><%=videos[i].username%></p>
                                    </div>   
                                    <p><%=videos[i].description%></p>
                                </div>
                            </div>
                        </a>
                    <%}%>
                </div>
            <%}%>
        <%}%>
    </div>
</div>
<script src="/js/search.js"></script>
<script>
    const searchQuery = "<%=searchQuery%>";
</script>